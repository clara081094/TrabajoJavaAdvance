<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

        <h:head>
        </h:head>
        <h:body> 
            <ui:composition template="/plantillas/layout.xhtml">
                <ui:define name="body">
                    <h:form id="nuevoCliente">
                        <p:panelGrid columns="3" id="panel" styleClass="ui-panelgrid" >
                            <f:facet name="header">
                                Nuevo usuario
                            </f:facet>

                            <p:outputLabel for="nombre" value="Nombre"/>
                            <p:inputText value="#{nuevoUsuarioBean.nombre}" 
                                         required="true"
                                         label="Nombre erroneo" 
                                         id="nombre">
                                <f:validateLength maximum="40"/>
                                <p:ajax update="msgNombre" event="blur" />
                            </p:inputText>
                            <p:message id="msgNombre" for="nombre"/>


                            <p:outputLabel for="email" value="Correo Electronico"/>
                            <p:inputText value="#{nuevoUsuarioBean.correoElectronico}" 
                                         id="email" 
                                         required="true"
                                         label="Correo invalido">
                            
                            <f:validateRegex
                            pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />

                            <p:ajax update="msgCorreo" event="blur" />
                            </p:inputText>   
                            <p:message id="msgCorreo" for="email"/>

							<p:outputLabel for="passw" value="Contraseña"/>
                            <p:password value="#{nuevoUsuarioBean.contrasena}"
                            				id="passw"
                                            feedBack="true"
                                            required="true"
                                            prompLabel="Error en contraseña"/>
                            <p:message id="msgPassword" for="passw"/>
                                 
                            
                            <f:facet name="footer">
                                <p:commandButton value="Registrar Usuario"
                                                 action="#{nuevoUsuarioBean.crearUsuario}"
                                                 update="@form"
                                                 onclick="if (!confirm('Esta seguro de guardar los datos')) return false"/>
                                <p:commandButton value="Reset tag"
                                                 update="panel"
                                                 process="@this" >
                                    <p:resetInput target="panel"/>    
                                </p:commandButton>
                            </f:facet>

                        </p:panelGrid>
                    </h:form>
                </ui:define>
            </ui:composition>
        </h:body>
</html>


